/*JS Beautifier|Einar Lielmanis, <einar@jsbeautifier.org>|http://jsbeautifier.org/*/
function js_beautify(e,n){function r(e){for(e="undefined"==typeof e?!1:e;S.length&&(" "===S[S.length-1]||S[S.length-1]===m||S[S.length-1]===U||e&&("\n"===S[S.length-1]||"\r"===S[S.length-1]));)S.pop()}function t(e){return e.replace(/^\s\s*|\s\s*$/,"")}function _(e){e=e.replace(/\x0d/g,"");for(var n=[],r=e.indexOf("\n");-1!=r;)n.push(e.substring(0,r)),e=e.substring(r+1),r=e.indexOf("\n");return e.length&&n.push(e),n}function a(){var e=q;q=!1,i(),q=e}function i(e){if(I.eat_next_space=!1,(!q||!s(I.mode))&&(e="undefined"==typeof e?!0:e,I.if_line=!1,r(),S.length)){"\n"===S[S.length-1]&&e||(w=!0,S.push("\n")),U&&S.push(U);for(var n=0;n<I.indentation_level;n+=1)S.push(m);I.var_line&&I.var_line_reindented&&S.push(m),I.case_body&&S.push(m)}}function T(){if("TK_COMMENT"===v)return i(!0);if(I.eat_next_space)return void(I.eat_next_space=!1);var e=" ";S.length&&(e=S[S.length-1])," "!==e&&"\n"!==e&&e!==m&&S.push(" ")}function E(){w=!1,I.eat_next_space=!1,S.push(p)}function o(){I.indentation_level+=1}function f(){S.length&&S[S.length-1]===m&&S.pop()}function c(e){I&&L.push(I),I={previous_mode:I?I.mode:"BLOCK",mode:e,var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,if_line:!1,in_case_statement:!1,in_case:!1,case_body:!1,eat_next_space:!1,indentation_baseline:-1,indentation_level:I?I.indentation_level+(I.case_body?1:0)+(I.var_line&&I.var_line_reindented?1:0):0,ternary_depth:0}}function s(e){return"[EXPRESSION]"===e||"[INDENTED-EXPRESSION]"===e}function d(e){return N(e,["[EXPRESSION]","(EXPRESSION)","(FOR-EXPRESSION)","(COND-EXPRESSION)"])}function O(){if(x="DO_BLOCK"===I.mode,L.length>0){var e=I.mode;I=L.pop(),I.previous_mode=e}}function l(e,n){for(var r=0;r<e.length;r++){var _=t(e[r]);if(_.charAt(0)!==n)return!1}return!0}function K(e){return N(e,["case","return","do","if","throw","else"])}function N(e,n){for(var r=0;r<n.length;r+=1)if(n[r]===e)return!0;return!1}function h(e){for(var n=B,r=R.charAt(n);N(r,b)&&r!=e;){if(n++,n>=Y)return 0;r=R.charAt(n)}return r}function u(){if(F=0,B>=Y)return["","TK_EOF"];W=!1;var e=R.charAt(B);B+=1;var n=q&&s(I.mode);if(n){for(var _=0;N(e,b);){if("\n"===e?(r(),S.push("\n"),w=!0,_=0):"	"===e?_+=4:"\r"===e||(_+=1),B>=Y)return["","TK_EOF"];e=R.charAt(B),B+=1}if(-1===I.indentation_baseline&&(I.indentation_baseline=_),w){var a;for(a=0;a<I.indentation_level+1;a+=1)S.push(m);if(-1!==I.indentation_baseline)for(a=0;a<_-I.indentation_baseline;a++)S.push(" ")}}else{for(;N(e,b);){if("\n"===e&&(F+=$?$>=F?1:0:1),B>=Y)return["","TK_EOF"];e=R.charAt(B),B+=1}if(J&&F>1)for(a=0;F>a;a+=1)i(0===a),w=!0;W=F>0}if(N(e,D)){if(Y>B)for(;N(R.charAt(B),D)&&(e+=R.charAt(B),B+=1,B!==Y););if(B!==Y&&e.match(/^[0-9]+[Ee]$/)&&("-"===R.charAt(B)||"+"===R.charAt(B))){var T=R.charAt(B);B+=1;var E=u(B);return e+=T+E[0],[e,"TK_WORD"]}return"in"===e?[e,"TK_OPERATOR"]:(!W||"TK_OPERATOR"===v||"TK_EQUALS"===v||I.if_line||!J&&"var"===A||i(),[e,"TK_WORD"])}if("("===e||"["===e)return[e,"TK_START_EXPR"];if(")"===e||"]"===e)return[e,"TK_END_EXPR"];if("{"===e)return[e,"TK_START_BLOCK"];if("}"===e)return[e,"TK_END_BLOCK"];if(";"===e)return[e,"TK_SEMICOLON"];if("/"===e){var o="",f=!0;if("*"===R.charAt(B)){if(B+=1,Y>B)for(;Y>B&&("*"!==R.charAt(B)||!R.charAt(B+1)||"/"!==R.charAt(B+1))&&(e=R.charAt(B),o+=e,("\n"===e||"\r"===e)&&(f=!1),B+=1,!(B>=Y)););return B+=2,f&&0==F?["/*"+o+"*/","TK_INLINE_COMMENT"]:["/*"+o+"*/","TK_BLOCK_COMMENT"]}if("/"===R.charAt(B)){for(o=e;"\r"!==R.charAt(B)&&"\n"!==R.charAt(B)&&(o+=R.charAt(B),B+=1,!(B>=Y)););return B+=1,W&&i(),[o,"TK_COMMENT"]}}if("'"===e||'"'===e||"/"===e&&("TK_WORD"===v&&K(A)||")"===A&&N(I.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])||"TK_COMMENT"===v||"TK_START_EXPR"===v||"TK_START_BLOCK"===v||"TK_END_BLOCK"===v||"TK_OPERATOR"===v||"TK_EQUALS"===v||"TK_EOF"===v||"TK_SEMICOLON"===v)){var c=e,d=!1,O=e;if(Y>B)if("/"===c){for(var l=!1;d||l||R.charAt(B)!==c;)if(O+=R.charAt(B),d?d=!1:(d="\\"===R.charAt(B),"["===R.charAt(B)?l=!0:"]"===R.charAt(B)&&(l=!1)),B+=1,B>=Y)return[O,"TK_STRING"]}else for(;d||R.charAt(B)!==c;)if(O+=R.charAt(B),d=d?!1:"\\"===R.charAt(B),B+=1,B>=Y)return[O,"TK_STRING"];if(B+=1,O+=c,"/"===c)for(;Y>B&&N(R.charAt(B),D);)O+=R.charAt(B),B+=1;return[O,"TK_STRING"]}if("#"===e){if(0===S.length&&"!"===R.charAt(B)){for(O=e;Y>B&&"\n"!=e;)e=R.charAt(B),O+=e,B+=1;return S.push(t(O)+"\n"),i(),u()}var h="#";if(Y>B&&N(R.charAt(B),y)){do e=R.charAt(B),h+=e,B+=1;while(Y>B&&"#"!==e&&"="!==e);return"#"===e||("["===R.charAt(B)&&"]"===R.charAt(B+1)?(h+="[]",B+=2):"{"===R.charAt(B)&&"}"===R.charAt(B+1)&&(h+="{}",B+=2)),[h,"TK_WORD"]}}if("<"===e&&"<!--"===R.substring(B-1,B+3)){for(B+=3,e="<!--";"\n"!=R.charAt(B)&&Y>B;)e+=R.charAt(B),B++;return I.in_html_comment=!0,[e,"TK_COMMENT"]}if("-"===e&&I.in_html_comment&&"-->"===R.substring(B-1,B+2))return I.in_html_comment=!1,B+=2,W&&i(),["-->","TK_COMMENT"];if(N(e,X)){for(;Y>B&&N(e+R.charAt(B),X)&&(e+=R.charAt(B),B+=1,!(B>=Y)););return"="===e?[e,"TK_EQUALS"]:[e,"TK_OPERATOR"]}return[e,"TK_UNKNOWN"]}var R,S,p,v,A,C,P,I,L,m,b,D,X,B,M,y,g,k,x,W,w,F,U="";n=n?n:{};var j;void 0!==n.space_after_anon_function&&void 0===n.jslint_happy&&(n.jslint_happy=n.space_after_anon_function),void 0!==n.braces_on_own_line&&(j=n.braces_on_own_line?"expand":"collapse"),j=n.brace_style?n.brace_style:j?j:"collapse";var G=n.indent_size?n.indent_size:4,Q=n.indent_char?n.indent_char:" ",J="undefined"==typeof n.preserve_newlines?!0:n.preserve_newlines,$="undefined"==typeof n.max_preserve_newlines?!1:n.max_preserve_newlines,z="undefined"===n.jslint_happy?!1:n.jslint_happy,q="undefined"==typeof n.keep_array_indentation?!1:n.keep_array_indentation,H="undefined"==typeof n.space_before_conditional?!0:n.space_before_conditional,V="undefined"==typeof n.indent_case?!1:n.indent_case;w=!1;var Y=e.length;for(m="";G>0;)m+=Q,G-=1;for(;e&&(" "===e.charAt(0)||"	"===e.charAt(0));)U+=e.charAt(0),e=e.substring(1);for(R=e,P="",v="TK_START_EXPR",A="",C="",S=[],x=!1,b="\n\r	 ".split(""),D="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),y="0123456789".split(""),X="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::",X+=" <%= <% %> <?= <? ?>",X=X.split(" "),M="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(","),L=[],c("BLOCK"),B=0;;){var Z=u(B);if(p=Z[0],k=Z[1],"TK_EOF"===k)break;switch(k){case"TK_START_EXPR":if("["===p){if("TK_WORD"===v||")"===A){N(A,M)&&T(),c("(EXPRESSION)"),E();break}"[EXPRESSION]"===I.mode||"[INDENTED-EXPRESSION]"===I.mode?"]"===C&&","===A?("[EXPRESSION]"===I.mode&&(I.mode="[INDENTED-EXPRESSION]",q||o()),c("[EXPRESSION]"),q||i()):"["===A?("[EXPRESSION]"===I.mode&&(I.mode="[INDENTED-EXPRESSION]",q||o()),c("[EXPRESSION]"),q||i()):c("[EXPRESSION]"):c("[EXPRESSION]")}else c("for"===P?"(FOR-EXPRESSION)":N(P,["if","while"])?"(COND-EXPRESSION)":"(EXPRESSION)");";"===A||"TK_START_BLOCK"===v?i():"TK_END_EXPR"===v||"TK_START_EXPR"===v||"TK_END_BLOCK"===v||"."===A?W&&i():"TK_WORD"!==v&&"TK_OPERATOR"!==v?T():"function"===P||"typeof"===P?z&&T():(N(A,M)||"catch"===A)&&H&&T(),E();break;case"TK_END_EXPR":if("]"===p)if(q){if("}"===A){f(),E(),O();break}}else if("[INDENTED-EXPRESSION]"===I.mode&&"]"===A){O(),i(),E();break}O(),E();break;case"TK_START_BLOCK":if(c("do"===P?"DO_BLOCK":"BLOCK"),"expand"==j||"expand-strict"==j){var ee=!1;"expand-strict"==j?(ee="}"==h(),ee||i(!0)):"TK_OPERATOR"!==v&&("="===A||K(A)&&"else"!==A?T():i(!0)),E(),ee||o()}else"TK_OPERATOR"!==v&&"TK_START_EXPR"!==v?"TK_START_BLOCK"===v?i():T():s(I.previous_mode)&&","===A&&("}"===C?T():i()),o(),E();break;case"TK_END_BLOCK":O(),"expand"==j||"expand-strict"==j?("{"!==A&&i(),E()):("TK_START_BLOCK"===v?w?f():r():s(I.mode)&&q?(q=!1,i(),q=!0):i(),E());break;case"TK_WORD":if(x){T(),E(),T(),x=!1;break}if("function"===p&&(I.var_line&&(I.var_line_reindented=!0),(w||";"===A)&&"{"!==A&&"TK_BLOCK_COMMENT"!=v&&"TK_COMMENT"!=v)){F=w?F:0,J||(F=1);for(var ne=0;2-F>ne;ne++)i(!1)}if("case"===p||"default"===p&&I.in_case_statement){":"===A||I.case_body?f():(V||I.indentation_level--,i(),V||I.indentation_level++),E(),I.in_case=!0,I.in_case_statement=!0,I.case_body=!1;break}g="NONE","TK_END_BLOCK"===v?N(p.toLowerCase(),["else","catch","finally"])?"expand"==j||"end-expand"==j||"expand-strict"==j?g="NEWLINE":(g="SPACE",T()):g="NEWLINE":"TK_SEMICOLON"!==v||"BLOCK"!==I.mode&&"DO_BLOCK"!==I.mode?"TK_SEMICOLON"===v&&d(I.mode)?g="SPACE":"TK_STRING"===v?g="NEWLINE":"TK_WORD"===v?("else"===A&&r(!0),g="SPACE"):"TK_START_BLOCK"===v?g="NEWLINE":"TK_END_EXPR"===v&&(T(),g="NEWLINE"):g="NEWLINE",N(p,M)&&")"!==A&&(g="else"==A?"SPACE":"NEWLINE","function"!==p||"get"!==A&&"set"!==A||(g="SPACE")),I.if_line&&"TK_END_EXPR"===v&&(I.if_line=!1),N(p.toLowerCase(),["else","catch","finally"])?"TK_END_BLOCK"!==v||"expand"==j||"end-expand"==j||"expand-strict"==j?i():(r(!0),T()):"NEWLINE"===g?("TK_START_EXPR"!==v&&"="!==A&&","!==A||"function"!==p)&&("function"===p&&"new"==A?T():K(A)?T():"TK_END_EXPR"!==v?"TK_START_EXPR"===v&&"var"===p||":"===A||("if"===p&&"else"===P&&"{"!==A?T():(I.var_line=!1,I.var_line_reindented=!1,i())):N(p,M)&&")"!=A&&(I.var_line=!1,I.var_line_reindented=!1,i())):s(I.mode)&&","===A&&"}"===C?i():"SPACE"===g&&T(),E(),P=p,"var"===p&&(I.var_line=!0,I.var_line_reindented=!1,I.var_line_tainted=!1),"if"===p&&(I.if_line=!0),"else"===p&&(I.if_line=!1);break;case"TK_SEMICOLON":E(),I.var_line=!1,I.var_line_reindented=!1,"OBJECT"==I.mode&&(I.mode="BLOCK");break;case"TK_STRING":"TK_END_EXPR"===v&&N(I.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])?T():"TK_STRING"==v||"TK_START_BLOCK"===v||"TK_END_BLOCK"===v||"TK_SEMICOLON"===v?i():"TK_WORD"===v&&T(),E();break;case"TK_EQUALS":I.var_line&&(I.var_line_tainted=!0),T(),E(),T();break;case"TK_OPERATOR":var re=!0,te=!0;if(I.var_line&&","===p&&d(I.mode)&&(I.var_line_tainted=!1),I.var_line&&","===p){if(I.var_line_tainted){E(),I.var_line_reindented=!0,I.var_line_tainted=!1,i();break}I.var_line_tainted=!1}if(K(A)){T(),E();break}if("*"==p&&"TK_UNKNOWN"==v&&!C.match(/^\d+$/)){E();break}if(":"===p&&I.in_case){V&&(I.case_body=!0),E(),i(),I.in_case=!1;break}if("::"===p){E();break}if(","===p){I.var_line?I.var_line_tainted?(E(),i(),I.var_line_tainted=!1):(E(),T()):"TK_END_BLOCK"===v&&"(EXPRESSION)"!==I.mode?(E(),"OBJECT"===I.mode&&"}"===A?i():T()):"OBJECT"===I.mode?(E(),i()):(E(),T());break}N(p,["--","++","!"])||N(p,["-","+"])&&(N(v,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||N(A,M))?(re=!1,te=!1,";"===A&&d(I.mode)&&(re=!0),"TK_WORD"===v&&N(A,M)&&(re=!0),"BLOCK"!==I.mode||"{"!==A&&";"!==A||i()):"."===p?re=!1:":"===p?0==I.ternary_depth?("BLOCK"==I.mode&&(I.mode="OBJECT"),re=!1):I.ternary_depth-=1:"?"===p&&(I.ternary_depth+=1),re&&T(),E(),te&&T();break;case"TK_BLOCK_COMMENT":var _e=_(p);if(l(_e.slice(1),"*"))for(i(),S.push(_e[0]),ne=1;ne<_e.length;ne++)i(),S.push(" "),S.push(t(_e[ne]));else for(_e.length>1?i():"TK_END_BLOCK"===v?i():T(),ne=0;ne<_e.length;ne++)S.push(_e[ne]),S.push("\n");"\n"!=h("\n")&&i();break;case"TK_INLINE_COMMENT":T(),E(),d(I.mode)?T():a();break;case"TK_COMMENT":"TK_COMMENT"==v?(i(),W&&i(!1)):W?i():T(),E(),"\n"!=h("\n")&&a();break;case"TK_UNKNOWN":K(A)&&T(),E()}C=A,v=k,A=p}var ae=U+S.join("").replace(/[\r\n ]+$/,"");return ae}function deobfuscate(e){return js_beautify(e)}
